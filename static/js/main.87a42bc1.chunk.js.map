{"version":3,"sources":["ethereum/web3.js","ethereum/config/index.js","ethereum/yun-contract.js","components/home/Header.js","images/ticket.PNG","images/drink.PNG","images/wish.PNG","images/food.PNG","images/story.PNG","ethereum/helpers/index.js","components/home/Rewards.js","components/home/Sign.js","components/hepler/getReward.js","components/home/Playground.js","components/home/Inventory.js","App.js","index.js"],"names":["config","require","Web3","port","network","networkAddress","protocol","host","provider","providers","HttpProvider","web3","module","exports","development","rinkeby","useStyles","makeStyles","theme","grow","flexGrow","menuButton","marginRight","spacing","title","breakpoints","up","display","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","Header","classes","menuId","className","AppBar","Toolbar","Typography","variant","noWrap","to","style","textDecoration","outline","IconButton","edge","aria-label","aria-controls","aria-haspopup","a","init","yunContract","eth","Contract","shop","abi","signAndSendTransaction","options","privateKey","accounts","signTransaction","signedTransaction","sendSignedTransaction","rawTransaction","sign","methods","_parent","_address","data","encodeABI","gas","exchange","points","name","call","then","r","console","log","catch","er","extraPoints","lottery","root","maxWidth","media","objectFit","margin","backdrop","zIndex","drawer","rewards","image","ticket","content","drink","food","story","wish","Rewards","useState","setPoints","open","setOpen","exchangeRewards","rewardPoints","window","confirm","setTimeout","yun","balancePoint","useEffect","getPoints","Backdrop","src","alt","Box","map","reward","Card","CardActionArea","CardMedia","CardContent","gutterBottom","component","CardActions","Button","disabled","fullWidth","onClick","opacity","Sign","signRecords","setSignRecords","canSign","setCanSign","getSignRecords","getPastEvents","fromBlock","results","getSignTime","result","tomorrow1","signAt","tomorrow2","Math","round","Date","getTime","signHandler","size","TableContainer","Paper","marginBottom","Table","table","TableHead","TableRow","TableCell","align","TableBody","record","scope","dateSeparator","format","timeSeparator","meridians","showTime","returnValues","showDate","getReward","rmn","textMargin","Playground","signDays","setSignDays","totalDays","setTotalDays","rewardRecords","setRewardRecords","loading","setLoading","handlerClick","floor","random","getSignDays","days","tDays","getRewardRecord","Inventory","setRecords","getAllReward","getRewardInventory","exchangeAt","App","Container","flexWrap","path","exact","from","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.87a42bc1.chunk.js","sourcesContent":["const config = require(\"./config\");\r\nconst Web3 = require(\"web3\");\r\nconst networkMode = \"rinkeby\";\r\n\r\nconst port = config.network[networkMode].port;\r\n\r\nconst networkAddress = `${config.network[networkMode].protocol}://${\r\n  config.network[networkMode].host\r\n}${port ? `:${port}` : \"\"}`;\r\nconst provider = new Web3.providers.HttpProvider(networkAddress);\r\nconst web3 = new Web3(provider);\r\n\r\nmodule.exports = web3;\r\n","module.exports = {\r\n  network: {\r\n    development: {\r\n      protocol: \"http\",\r\n      host: \"127.0.0.1\",\r\n      port: \"7545\",\r\n    },\r\n    rinkeby: {\r\n      protocol: \"https\",\r\n      host: \"rinkeby.infura.io/v3/389389e17a1d4f288688e7fb9fce5fe0\",\r\n      port: \"\",\r\n    },\r\n  },\r\n};\r\n","import Web3 from \"web3\";\r\nimport shop from \"./build/contracts/yunyunsite.json\";\r\nconst address = \"0x18450bb6EAD998c21aDfAdC4a4CD8DBdAd6bD72b\"; // rinkeby\r\nexport var web3;\r\nconst init = async () => {\r\n  const provider = new Web3.providers.HttpProvider(\r\n    \"https://rinkeby.infura.io/v3/389389e17a1d4f288688e7fb9fce5fe0\"\r\n  );\r\n  web3 = new Web3(provider);\r\n};\r\ninit();\r\n\r\nexport const yunContract = new web3.eth.Contract(shop.abi, address);\r\n","import React from \"react\";\r\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SportsEsportsIcon from \"@material-ui/icons/SportsEsports\";\r\nimport LocalMallIcon from \"@material-ui/icons/LocalMall\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\",\r\n    },\r\n  },\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    \"&:hover\": {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    pointerEvents: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: \"flex\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n}));\r\nconst Header = () => {\r\n  const classes = useStyles();\r\n\r\n  const menuId = \"primary-search-account-menu\";\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"static\" color=\"secondary\">\r\n        <Toolbar>\r\n          <Typography className={classes.title} variant=\"h6\" noWrap>\r\n            乖寶寶簽到網\r\n          </Typography>\r\n          <div className={classes.grow} />\r\n          <Link\r\n            to=\"/yunyuncute\"\r\n            style={{ textDecoration: \"none\", color: \"#fff\", outline: \"none\" }}\r\n          >\r\n            <IconButton\r\n              edge=\"end\"\r\n              aria-label=\"account of current user\"\r\n              aria-controls={menuId}\r\n              aria-haspopup=\"true\"\r\n              color=\"inherit\"\r\n            >\r\n              <HomeIcon />\r\n            </IconButton>\r\n          </Link>\r\n          <Link\r\n            to=\"/yunyuncute/Rewards\"\r\n            style={{ textDecoration: \"none\", color: \"#fff\", outline: \"none\" }}\r\n          >\r\n            <IconButton\r\n              edge=\"end\"\r\n              aria-label=\"Get Reward\"\r\n              aria-controls={menuId}\r\n              aria-haspopup=\"true\"\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n          </Link>\r\n          <Link\r\n            to=\"/yunyuncute/Playground\"\r\n            style={{ textDecoration: \"none\", color: \"#fff\", outline: \"none\" }}\r\n          >\r\n            <IconButton\r\n              edge=\"end\"\r\n              aria-label=\"Play 777\"\r\n              aria-controls={menuId}\r\n              aria-haspopup=\"true\"\r\n              color=\"inherit\"\r\n            >\r\n              <SportsEsportsIcon />\r\n            </IconButton>\r\n          </Link>\r\n          <Link\r\n            to=\"/yunyuncute/Inventory\"\r\n            style={{ textDecoration: \"none\", color: \"#fff\", outline: \"none\" }}\r\n          >\r\n            <IconButton\r\n              edge=\"end\"\r\n              aria-label=\"Inventory\"\r\n              aria-controls={menuId}\r\n              aria-haspopup=\"true\"\r\n              color=\"inherit\"\r\n            >\r\n              <LocalMallIcon />\r\n            </IconButton>\r\n          </Link>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/ticket.64a843c6.PNG\";","export default __webpack_public_path__ + \"static/media/drink.2877b354.PNG\";","export default __webpack_public_path__ + \"static/media/wish.37ab8e83.PNG\";","export default __webpack_public_path__ + \"static/media/food.c9c317c0.PNG\";","export default __webpack_public_path__ + \"static/media/story.937b3ab9.PNG\";","import web3 from \"../web3\";\r\nimport { yunContract } from \"../yun-contract\";\r\nexport async function signAndSendTransaction(options, privateKey) {\r\n  let signedTransaction = await web3.eth.accounts.signTransaction(\r\n    options,\r\n    privateKey\r\n  );\r\n  await web3.eth.sendSignedTransaction(signedTransaction.rawTransaction);\r\n}\r\n\r\nexport async function sign() {\r\n  const sign = await yunContract.methods.sign();\r\n\r\n  const options = {\r\n    to: sign._parent._address,\r\n    data: sign.encodeABI(),\r\n    gas: \"1000000\",\r\n  };\r\n  await signAndSendTransaction(\r\n    options,\r\n    \"2a9880d710304eb7992489b262b38a7ce9641a8268c6247436fdae8e451df8d8\"\r\n  );\r\n}\r\n\r\nexport async function exchange(points, name) {\r\n  try {\r\n    const exchange = await yunContract.methods.exchange(points, name);\r\n\r\n    const options = {\r\n      to: exchange._parent._address,\r\n      data: exchange.encodeABI(),\r\n      gas: \"1000000\",\r\n    };\r\n    await signAndSendTransaction(\r\n      options,\r\n      \"2a9880d710304eb7992489b262b38a7ce9641a8268c6247436fdae8e451df8d8\"\r\n    );\r\n  } catch (error) {\r\n    await yunContract.methods\r\n      .exchange(points, name)\r\n      .call()\r\n      .then((r) => console.log(r))\r\n      .catch((er) => console.log(er));\r\n  }\r\n}\r\n\r\nexport async function extraPoints(points, name) {\r\n  const extraPoints = await yunContract.methods.extraPoints(points, name);\r\n  const options = {\r\n    to: extraPoints._parent._address,\r\n    data: extraPoints.encodeABI(),\r\n    gas: \"1000000\",\r\n  };\r\n  await signAndSendTransaction(\r\n    options,\r\n    \"2a9880d710304eb7992489b262b38a7ce9641a8268c6247436fdae8e451df8d8\"\r\n  );\r\n}\r\n\r\nexport async function lottery(name) {\r\n  const lottery = await yunContract.methods.lottery(name);\r\n  const options = {\r\n    to: lottery._parent._address,\r\n    data: lottery.encodeABI(),\r\n    gas: \"1000000\",\r\n  };\r\n  await signAndSendTransaction(\r\n    options,\r\n    \"2a9880d710304eb7992489b262b38a7ce9641a8268c6247436fdae8e451df8d8\"\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ticket from \"../../images/ticket.PNG\";\r\nimport drink from \"../../images/drink.PNG\";\r\nimport wish from \"../../images/wish.PNG\";\r\nimport food from \"../../images/food.PNG\";\r\nimport story from \"../../images/story.PNG\";\r\nimport { yunContract } from \"../../ethereum/yun-contract\";\r\nimport { exchange } from \"../../ethereum/helpers\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    width: 200,\r\n    height: 200,\r\n    objectFit: \"cover\",\r\n    margin: \"0 auto\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n\r\nconst rewards = [\r\n  {\r\n    image: ticket,\r\n    name: \"親親卷一張\",\r\n    content: \"換一張代表一天可以多一次親親，不可以同一天用超過一張。\",\r\n    points: 3,\r\n  },\r\n  {\r\n    image: drink,\r\n    name: \"請喝一杯飲料\",\r\n    content: \"約會的時候可以獲得免費飲料一杯，也不可以一次用多張喔。\",\r\n    points: 5,\r\n  },\r\n  {\r\n    image: food,\r\n    name: \"好吃的一餐\",\r\n    content: \"約會的時候可以獲得免費的一餐，不可以使用多張喔，會破產。\",\r\n    points: 25,\r\n  },\r\n  {\r\n    image: story,\r\n    name: \"小故事\",\r\n    content: \"可以聽一則故事，這是很貴很貴的，傳說中只有超級乖寶寶能獲得。\",\r\n    points: 30,\r\n  },\r\n\r\n  {\r\n    image: wish,\r\n    name: \"超級願望\",\r\n    content: \"僅有世界上少數超級乖寶寶能獲得，可以許一個願望。\",\r\n    points: 50,\r\n  },\r\n];\r\n\r\nconst Rewards = () => {\r\n  const classes = useStyles();\r\n  const [points, setPoints] = useState(0);\r\n  const [open, setOpen] = useState(false);\r\n  const exchangeRewards = async (rewardPoints, name) => {\r\n    if (window.confirm(\"確定要兌換嗎!!!\")) {\r\n      setOpen(true);\r\n\r\n      await exchange(rewardPoints, name);\r\n      setTimeout(async () => {\r\n        const balancePoint = await yunContract.methods\r\n          .yun(\"0xf289Bf6ecDb2BC0a2697F437446656C52484D8e6\")\r\n          .call();\r\n        setPoints(balancePoint.points);\r\n      }, 1000);\r\n      setOpen(false);\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getPoints = async () => {\r\n      const balancePoint = await yunContract.methods\r\n        .yun(\"0xf289Bf6ecDb2BC0a2697F437446656C52484D8e6\")\r\n        .call();\r\n      setPoints(balancePoint.points);\r\n    };\r\n    getPoints();\r\n  }, [setPoints]);\r\n  return (\r\n    <>\r\n      <Backdrop className={classes.backdrop} open={open}>\r\n        <img src=\"https://i.imgur.com/btMWvMx.gif\" alt=\"\" />\r\n      </Backdrop>\r\n      <Box display=\"flex\" alignItems=\"center\" margin=\"20px 0\">\r\n        <Typography variant=\"h4\">乖乖芸點數:{points}</Typography>\r\n      </Box>\r\n      {rewards.map((reward) => (\r\n        <Card\r\n          className={classes.root}\r\n          style={{ margin: \"10px 15px\" }}\r\n          key={reward.content}\r\n        >\r\n          <CardActionArea>\r\n            <CardMedia\r\n              className={classes.media}\r\n              image={reward.image}\r\n              title=\"Contemplative Reptile\"\r\n            />\r\n            <CardContent>\r\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                {reward.name}\r\n              </Typography>\r\n              <Typography gutterBottom variant=\"h6\" component=\"span\">\r\n                {reward.points} 點\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                {reward.content}\r\n              </Typography>\r\n            </CardContent>\r\n          </CardActionArea>\r\n          <CardActions>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              disabled={points <= reward.points ? true : false}\r\n              fullWidth\r\n              onClick={() => exchangeRewards(reward.points, reward.name)}\r\n            >\r\n              兌換\r\n            </Button>\r\n          </CardActions>\r\n        </Card>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Rewards;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { yunContract } from \"../../ethereum/yun-contract\";\r\nimport { sign } from \"../../ethereum/helpers\";\r\nimport SimpleDateTime from \"react-simple-timestamp-to-date\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    height: 250,\r\n  },\r\n  Button: {\r\n    backgroundColor: \"#f50057\",\r\n    \"&:disabled\": {\r\n      color: \"#fff\",\r\n      backgroundColor: \"#a4a4a4 !important\",\r\n      opacity: \"0.9\",\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n\r\nconst Sign = () => {\r\n  const classes = useStyles();\r\n  const [signRecords, setSignRecords] = useState();\r\n  const [open, setOpen] = useState(false);\r\n  const [canSign, setCanSign] = useState(false);\r\n  useEffect(() => {\r\n    const getSignRecords = async () => {\r\n      const results = await yunContract.getPastEvents(\"signRecords\", {\r\n        fromBlock: 0,\r\n      });\r\n      setSignRecords(results);\r\n    };\r\n    const getSignTime = async () => {\r\n      const result = await yunContract.methods\r\n        .yun(\"0xf289Bf6ecDb2BC0a2697F437446656C52484D8e6\")\r\n        .call();\r\n      const tomorrow1 = +result.signAt + 24 * 3600;\r\n      const tomorrow2 = Math.round(new Date().getTime() / 1000);\r\n\r\n      if (tomorrow1 <= tomorrow2) {\r\n        return;\r\n      }\r\n      setCanSign(true);\r\n    };\r\n    getSignRecords();\r\n    getSignTime();\r\n  }, [setSignRecords]);\r\n\r\n  const signHandler = async () => {\r\n    setOpen(true);\r\n    await sign();\r\n    setTimeout(async () => {\r\n      const results = await yunContract.getPastEvents(\"signRecords\", {\r\n        fromBlock: 0,\r\n      });\r\n      setSignRecords(results);\r\n    }, 1000);\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Backdrop className={classes.backdrop} open={open}>\r\n        <img src=\"https://i.imgur.com/btMWvMx.gif\" alt=\"\" />\r\n      </Backdrop>\r\n      <Box width=\"100%\" margin=\"20px 0\">\r\n        <Button\r\n          size=\"large\"\r\n          variant=\"contained\"\r\n          fullWidth\r\n          color=\"secondary\"\r\n          disabled={canSign}\r\n          onClick={signHandler}\r\n          className={classes.Button}\r\n        >\r\n          簽到\r\n        </Button>\r\n      </Box>\r\n      <TableContainer component={Paper} style={{ marginBottom: \"10px\" }}>\r\n        <Table className={classes.table} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">簽到日期</TableCell>\r\n              <TableCell align=\"center\">簽到時間</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {signRecords?.map((record) => (\r\n              <TableRow key={record.returnValues[1]}>\r\n                <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n                  <SimpleDateTime\r\n                    dateSeparator=\"-\"\r\n                    format=\"MYD\"\r\n                    timeSeparator=\":\"\r\n                    meridians=\"1\"\r\n                    showTime=\"0\"\r\n                  >\r\n                    {record.returnValues[1]}\r\n                  </SimpleDateTime>\r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                  <SimpleDateTime\r\n                    dateSeparator=\"-\"\r\n                    format=\"MYD\"\r\n                    timeSeparator=\":\"\r\n                    showDate=\"0\"\r\n                  >\r\n                    {record.returnValues[1]}\r\n                  </SimpleDateTime>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sign;\r\n","const rewards = [\r\n  {\r\n    name: \"點數 3 點\",\r\n    points: 3,\r\n  },\r\n  {\r\n    name: \"點數 5 點\",\r\n    points: 5,\r\n  },\r\n  {\r\n    name: \"點數 10 點\",\r\n    points: 10,\r\n  },\r\n  {\r\n    name: \"點數 20 點\",\r\n    points: 20,\r\n  },\r\n  {\r\n    name: \"點數 50 點\",\r\n    points: 50,\r\n  },\r\n  {\r\n    name: \"親親卷一張\",\r\n  },\r\n  {\r\n    name: \"波摩5分鐘\",\r\n  },\r\n  {\r\n    name: \"小故事\",\r\n  },\r\n];\r\n\r\nconst getReward = (rmn) => {\r\n  if (rmn > 60 && rmn <= 100) {\r\n    return rewards[0];\r\n  } else if (rmn > 30 && rmn <= 60) {\r\n    return rewards[1];\r\n  } else if (rmn > 20 && rmn <= 30) {\r\n    return rewards[2];\r\n  } else if (rmn > 15 && rmn <= 20) {\r\n    return rewards[3];\r\n  } else if (rmn > 10 && rmn <= 15) {\r\n    return rewards[4];\r\n  } else if (rmn > 5 && rmn <= 10) {\r\n    return rewards[5];\r\n  } else if (rmn > 3 && rmn <= 5) {\r\n    return rewards[6];\r\n  } else if (rmn >= 0 && rmn <= 3) {\r\n    return rewards[7];\r\n  }\r\n};\r\n\r\nexport default getReward;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { yunContract } from \"../../ethereum/yun-contract\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport getReward from \"../hepler/getReward\";\r\nimport { extraPoints, lottery } from \"../../ethereum/helpers\";\r\nimport SimpleDateTime from \"react-simple-timestamp-to-date\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    height: 250,\r\n  },\r\n  Button: {\r\n    backgroundColor: \"#f50057\",\r\n    margin: \"5px 0\",\r\n    \"&:disabled\": {\r\n      color: \"#fff\",\r\n      backgroundColor: \"#dddddd !important\",\r\n      //   opacity: \"0.5\",\r\n    },\r\n  },\r\n  textMargin: {\r\n    margin: \"20px 0\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n\r\n/**\r\n * \r\n    1.點數3點\r\n    2.點數5\r\n    3.點數10\r\n    4.點數20\r\n    5.點數50\r\n    6.免費啾啾\r\n    7.免費波摩5分鐘\r\n    8.免費小故事\r\n */\r\nconst Playground = () => {\r\n  const classes = useStyles();\r\n  const [signDays, setSignDays] = useState();\r\n  const [totalDays, setTotalDays] = useState();\r\n  const [rewardRecords, setRewardRecords] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handlerClick = async () => {\r\n    const rmn = Math.floor(Math.random() * 100);\r\n    const reward = getReward(rmn);\r\n    setLoading(true);\r\n    setOpen(true);\r\n    if (reward?.points) {\r\n      // await initSignDays();\r\n      await extraPoints(reward.points, reward.name);\r\n    } else {\r\n      await lottery(reward.name);\r\n    }\r\n\r\n    setTimeout(async () => {\r\n      const results = await yunContract.getPastEvents(\"lotteryRecords\", {\r\n        fromBlock: 0,\r\n      });\r\n      setRewardRecords(results);\r\n      setLoading(false);\r\n    }, 1000);\r\n\r\n    setOpen(false);\r\n  };\r\n  useEffect(() => {\r\n    const getSignDays = async () => {\r\n      const days = await yunContract.methods.signDays().call();\r\n      const tDays = await yunContract.methods.totalDays().call();\r\n      setSignDays(days);\r\n      setTotalDays(tDays);\r\n    };\r\n\r\n    const getRewardRecord = async () => {\r\n      const results = await yunContract.getPastEvents(\"lotteryRecords\", {\r\n        fromBlock: 0,\r\n      });\r\n      setRewardRecords(results);\r\n    };\r\n    getSignDays();\r\n    getRewardRecord();\r\n  }, [setRewardRecords]);\r\n  return (\r\n    <>\r\n      <Backdrop className={classes.backdrop} open={open}>\r\n        <img src=\"https://i.imgur.com/btMWvMx.gif\" alt=\"\" />\r\n      </Backdrop>\r\n      <Box>\r\n        <Typography variant=\"h5\" component=\"h5\" className={classes.textMargin}>\r\n          簽到五天以上可以抽獎哦!\r\n        </Typography>\r\n        <Typography variant=\"h5\" component=\"h5\" className={classes.textMargin}>\r\n          芸芸目前簽到了 {totalDays} 天\r\n        </Typography>\r\n      </Box>\r\n\r\n      <Button\r\n        variant=\"contained\"\r\n        size=\"large\"\r\n        fullWidth\r\n        color=\"secondary\"\r\n        disabled={signDays >= 5 && !loading ? false : true}\r\n        className={classes.Button}\r\n        onClick={handlerClick}\r\n      >\r\n        抽獎!!!!\r\n      </Button>\r\n\r\n      <TableContainer component={Paper} style={{ marginBottom: \"10px\" }}>\r\n        <Table className={classes.table} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">抽獎時間</TableCell>\r\n              <TableCell align=\"center\">獎品</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rewardRecords?.map((record) => (\r\n              <TableRow key={record.returnValues[0]}>\r\n                <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n                  <SimpleDateTime\r\n                    dateSeparator=\"-\"\r\n                    format=\"MYD\"\r\n                    timeSeparator=\":\"\r\n                  >\r\n                    {record.returnValues[0]}\r\n                  </SimpleDateTime>\r\n                </TableCell>\r\n                <TableCell align=\"center\">{record.returnValues[1]}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Playground;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { yunContract } from \"../../ethereum/yun-contract\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport SimpleDateTime from \"react-simple-timestamp-to-date\";\r\nimport Button from \"@material-ui/core/Button\";\r\nconst Inventory = () => {\r\n  const [rewards, setRecords] = useState();\r\n  useEffect(() => {\r\n    const getRewardInventory = async () => {\r\n      const results = await yunContract.methods.getAllReward().call();\r\n      console.log(results);\r\n      setRecords(results);\r\n    };\r\n    getRewardInventory();\r\n  }, []);\r\n  return (\r\n    <>\r\n      <TableContainer component={Paper} style={{ margin: \"10px 0\" }}>\r\n        <Table aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">兌換時間</TableCell>\r\n              <TableCell align=\"center\">獎品</TableCell>\r\n              <TableCell align=\"center\"></TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rewards?.map((reward) => (\r\n              <TableRow key={reward.exchangeAt}>\r\n                <TableCell align=\"center\">\r\n                  <SimpleDateTime\r\n                    dateSeparator=\"-\"\r\n                    format=\"MYD\"\r\n                    timeSeparator=\":\"\r\n                    showTime=\"0\"\r\n                  >\r\n                    {reward.exchangeAt}\r\n                  </SimpleDateTime>\r\n                </TableCell>\r\n                <TableCell align=\"center\">{reward.name}</TableCell>\r\n                <TableCell align=\"center\">\r\n                  <Button variant=\"contained\" color=\"primary\">\r\n                    兌換\r\n                  </Button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\nexport default Inventory;\r\n","import \"./App.css\";\r\nimport Header from \"./components/home/Header\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\r\nimport Rewards from \"./components/home/Rewards\";\r\nimport Sign from \"./components/home/Sign\";\r\nimport Playground from \"./components/home/Playground\";\r\nimport Inventory from \"./components/home/Inventory\";\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Header />\r\n        <Container>\r\n          <Box\r\n            display=\"flex\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n            flexWrap=\"wrap\"\r\n            width=\"100%\"\r\n          >\r\n            <Route path={\"/yunyuncute\"} exact component={Sign} />\r\n            <Route path={\"/yunyuncute/Rewards\"} component={Rewards} />\r\n            <Route path={\"/yunyuncute/Playground\"} component={Playground} />\r\n            <Route path={\"/yunyuncute/Inventory\"} component={Inventory} />\r\n\r\n            <Redirect from={\"/\"} to={\"/yunyuncute\"}></Redirect>\r\n          </Box>\r\n        </Container>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <>\r\n    <App />\r\n  </>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}